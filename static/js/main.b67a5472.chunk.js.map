{"version":3,"sources":["helpers/constants.js","helpers/ApiMoovieDBHelper.js","Game.js","Timer.js","Play.js","App.js","index.js"],"names":["API_KEY_MOVIE_DB","process","REACT_APP_API_KEY_MOVIE_DB","URL_POSTER_PATH_MOVIE","URL_FETCH_API_MOVIES_V3","myInit","method","mode","getRamdomActor","a","fetch","then","res","json","actors","randomActor","results","map","actor","name","photo","profile_path","random_0_20","parseInt","Math","random","getRandomMovieDetails","moviesList","randomMovie","sample","items","id","movieCredit","movieActors","cast","filter","el","known_for_department","person","title","couv","poster_path","useStyles","makeStyles","mainContainer","display","alignItems","imgHeight","height","paddingAffiche","padding","Game","props","score","setScore","setStopGame","classes","useState","movie","setMovie","setActor","activeUseEffect","setActiveUseEffect","useEffect","getRandomActorApiOrMovieActorApi","round","checkResponse","responseBool","includes","className","Box","component","sx","p","src","alt","Button","variant","onClick","Timer","seconds","setSeconds","isActive","setIsActive","stopGame","reset","scoreStorage","localStorage","getItem","setItem","interval","setInterval","clearInterval","disabled","Play","bestScore","setBestScore","bestScoreStorage","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b67a5472.chunk.js","sourcesContent":["export const API_KEY_MOVIE_DB = process.env.REACT_APP_API_KEY_MOVIE_DB;\nexport const URL_POSTER_PATH_MOVIE = \"https://image.tmdb.org/t/p/original\";\nexport const URL_FETCH_API_MOVIES_V3 = 'https://api.themoviedb.org/3/'\n","import sample from \"lodash/sample\";\nimport { API_KEY_MOVIE_DB, URL_POSTER_PATH_MOVIE, URL_FETCH_API_MOVIES_V3 } from \"./constants\";\n\nconst myInit = {\n  method: \"GET\",\n  mode: \"cors\",\n};\n\nconst getRamdomActor = async () => {\n  // fetch les acteurs populaire\n  const actors = await fetch(\n    `${URL_FETCH_API_MOVIES_V3}person/popular?api_key=${API_KEY_MOVIE_DB}&language=en-US&page=1`,\n    myInit\n  ).then((res) => res.json());\n  // prendre un acteur random\n  const randomActor = actors.results.map((actor) => {\n    return {\n      name: actor.name,\n      photo: URL_POSTER_PATH_MOVIE + actor.profile_path,\n    };\n  });\n  // random entre 0 et 20\n  const random_0_20 = parseInt(Math.random() * (20 - 1) + 1);\n  return randomActor[random_0_20];\n};\n\nconst getRandomMovieDetails = async () => {\n  //fetch une liste de film\n  const moviesList = await fetch(\n    `\n    ${URL_FETCH_API_MOVIES_V3}list/1?api_key=${API_KEY_MOVIE_DB}&language=en-US`,\n    myInit\n  ).then((res) => res.json());\n  // prendre un film random dans la liste\n  const randomMovie = sample(moviesList.items);\n  // fetch ses acteurs\n  const movieCredit = await fetch(\n    `\n    ${URL_FETCH_API_MOVIES_V3}movie/${randomMovie.id}/credits?api_key=${API_KEY_MOVIE_DB}&language=en-US`,\n    myInit\n  ).then((res) => res.json());\n  // filtrer pour recup que les acteurs du film\n  const movieActors = movieCredit.cast\n    .filter((el) => el.known_for_department === \"Acting\")\n    .map((person) => {\n      return {\n        name: person.name,\n        photo: URL_POSTER_PATH_MOVIE + person.profile_path,\n      };\n    });\n  // retourner un objet avec le film, la couv et les acteurs\n  return {\n    title: randomMovie.title,\n    couv: URL_POSTER_PATH_MOVIE + randomMovie.poster_path,\n    actors: movieActors,\n  };\n};\n\nexport { getRamdomActor, getRandomMovieDetails };\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from '@mui/styles';\nimport Box from '@material-ui/core/Box';\nimport sample from \"lodash/sample\";\n\nimport Button from \"@material-ui/core/Button\";\nimport {\n  getRamdomActor,\n  getRandomMovieDetails,\n} from \"./helpers/ApiMoovieDBHelper\";\n\nconst useStyles = makeStyles({\n  mainContainer: {\n    display: \"flex\", \n    alignItems: \"center\"\n  },\n  imgHeight:{\n    height: 200\n  },\n  paddingAffiche:{\n    padding: 20\n  },\n});\n\nconst Game = (props) => {\n  const { score, setScore, setStopGame } = props;\n\n  const classes = useStyles();\n\n  const [movie, setMovie] = useState({});\n  const [actor, setActor] = useState({});\n  const [activeUseEffect, setActiveUseEffect] = useState(0);\n\n  useEffect(() => {\n    getRandomMovieDetails().then((movie) => {\n      setMovie(movie);\n      getRandomActorApiOrMovieActorApi(movie).then((actor) => setActor(actor));\n    });\n  }, [activeUseEffect]);\n\n  const getRandomActorApiOrMovieActorApi = async (movie) => {\n    const random0or1 = Math.round(Math.random());\n    if (random0or1 === 0) {\n      return getRamdomActor();\n    } else {\n      const randomActor = sample(movie.actors);\n      return randomActor;\n    }\n  };\n\n  const checkResponse = async (responseBool) => {\n    const isActing = movie.actors.includes(actor);\n    if (isActing === responseBool) {\n      setScore(score + 1);\n    } else {\n      setStopGame(true)\n    }\n    setActiveUseEffect(activeUseEffect + 1);\n  };\n\n  return (\n    <div>\n      <div className={classes.mainContainer}>\n        {actor && actor.photo && (\n          <Box component=\"div\" sx={{ p: 5 }}>\n            <img\n              src={actor.photo}\n              alt=\"actor_img\"\n              className={classes.imgHeight}\n              />\n            <br />\n            <span>{actor.name}</span>\n          </Box>\n        )}\n        <span>joue dans </span>\n        {movie && movie.couv && (\n          <Box component=\"div\" sx={{ p: 5 }}>\n            <img\n              src={movie.couv}\n              alt=\"movie_couv\"\n              className={classes.imgHeight}\n            />\n            <br />\n            <span>{movie.title}</span>\n          </Box>\n        )}\n        <span>? </span>\n      </div>\n      <Button\n        variant=\"outlined\"\n        onClick={() => checkResponse(true)}\n      >\n        Vrai\n      </Button>\n      <Button\n        variant=\"outlined\"\n        onClick={() => checkResponse(false)}\n      >\n        Faux\n      </Button>\n    </div>\n  );\n};\n\nexport default Game;\n","import React, { useState, useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\n\nconst Timer = (props) => {\n  const { seconds, setSeconds, isActive, setIsActive, setScore, score, stopGame, setStopGame } = props;\n\n  const toggle = () => {\n    setIsActive(!isActive);\n    setScore(0);\n  };\n\n  const reset = () => {\n    setSeconds(0);\n    setIsActive(false);\n    setScore(0);\n    const scoreStorage = localStorage.getItem(\"bestScore\");\n    if (!scoreStorage || scoreStorage < score) {\n      localStorage.setItem(\"bestScore\", score);\n    }\n  };\n\n  useEffect(() => {\n    let interval = null;\n    if (isActive) {\n      interval = setInterval(() => {\n        setSeconds((seconds) => seconds + 1);\n      }, 1000);\n      if (seconds === 60) {\n        reset()\n      }\n      if (stopGame) {\n        reset()\n        setStopGame(false)\n      }\n    } else if (!isActive && seconds !== 0) {\n      clearInterval(interval);\n    }\n    return () => clearInterval(interval);\n  }, [isActive, seconds, stopGame]);\n\n  return (\n    <div>\n      <div className=\"time\">{seconds}s</div>\n      <Button variant=\"outlined\" onClick={toggle} disabled={isActive}>\n        Start\n      </Button>\n      <Button variant=\"outlined\" onClick={reset}>\n        Reset\n      </Button>\n    </div>\n  );\n};\n\nexport default Timer;\n","import React, { useState, useEffect } from \"react\";\nimport Box from '@material-ui/core/Box';\nimport Game from \"./Game\";\nimport Timer from \"./Timer\";\n\n\nconst Play = (props) => {\n  const [seconds, setSeconds] = useState(0);\n  const [isActive, setIsActive] = useState(false);\n  const [stopGame, setStopGame] = useState(false);\n  const [score, setScore] = useState(0);\n  const [bestScore, setBestScore] = useState(0);\n\n  useEffect(() => {\n    const bestScoreStorage = localStorage.getItem(\"bestScore\");\n    setBestScore(bestScoreStorage);\n  }, [isActive]);\n\n  return (\n    <div>\n      <Box component=\"span\" sx={{ p: 10 }}>\n        Best score : {bestScore}\n      </Box>\n      <br />\n      <br />\n      <Box component=\"span\" sx={{ p: 10 }}>\n        Score: {score}\n      </Box>\n      {isActive && <Game score={score} setScore={setScore} setStopGame={setStopGame} />}\n      <br />\n      <Timer\n        seconds={seconds}\n        setSeconds={setSeconds}\n        isActive={isActive}\n        setIsActive={setIsActive}\n        setScore={setScore}\n        score={score}\n        stopGame={stopGame}\n        setStopGame={setStopGame}\n      />\n    </div>\n  );\n};\n\nexport default Play;\n","import Play from \"./Play\";\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <div className=\"App-header\">\n        <Play />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}