(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{57:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(16),s=n.n(a),o=(n(57),n(11)),i=n(113),u=n(10),j=n.n(u),p=n(17),b=n(112),l=n(23),d=n.n(l),f=n(114),h="7ea5f490261a949e52930517e1b4657c",O="https://image.tmdb.org/t/p/original",m="https://api.themoviedb.org/3/",v={method:"GET",mode:"cors"},x=function(){var e=Object(p.a)(j.a.mark((function e(){var t,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"person/popular?api_key=").concat(h,"&language=en-US&page=1"),v).then((function(e){return e.json()}));case 2:return t=e.sent,n=t.results.map((function(e){return{name:e.name,photo:O+e.profile_path}})),c=parseInt(19*Math.random()+1),e.abrupt("return",n[c]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(j.a.mark((function e(){var t,n,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("\n    ".concat(m,"list/1?api_key=").concat(h,"&language=en-US"),v).then((function(e){return e.json()}));case 2:return t=e.sent,n=d()(t.items),e.next=6,fetch("\n    ".concat(m,"movie/").concat(n.id,"/credits?api_key=").concat(h,"&language=en-US"),v).then((function(e){return e.json()}));case 6:return c=e.sent,r=c.cast.filter((function(e){return"Acting"===e.known_for_department})).map((function(e){return{name:e.name,photo:O+e.profile_path}})),e.abrupt("return",{title:n.title,couv:O+n.poster_path,actors:r});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=n(2),k=Object(b.a)({mainContainer:{display:"flex",alignItems:"center"},imgHeight:{height:200},paddingAffiche:{padding:20}}),w=function(e){var t=e.score,n=e.setScore,r=e.setStopGame,a=k(),s=Object(c.useState)({}),u=Object(o.a)(s,2),b=u[0],l=u[1],h=Object(c.useState)({}),O=Object(o.a)(h,2),m=O[0],v=O[1],w=Object(c.useState)(0),I=Object(o.a)(w,2),_=I[0],y=I[1];Object(c.useEffect)((function(){g().then((function(e){l(e),A(e).then((function(e){return v(e)}))}))}),[_]);var A=function(){var e=Object(p.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Math.round(Math.random())){e.next=5;break}return e.abrupt("return",x());case 5:return n=d()(t.actors),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(p.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.actors.includes(m)===c?n(t+1):r(!0),y(_+1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:a.mainContainer,children:[m&&m.photo&&Object(S.jsxs)(i.a,{component:"div",sx:{p:5},children:[Object(S.jsx)("img",{src:m.photo,alt:"actor_img",className:a.imgHeight}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{children:m.name})]}),Object(S.jsx)("span",{children:"joue dans "}),b&&b.couv&&Object(S.jsxs)(i.a,{component:"div",sx:{p:5},children:[Object(S.jsx)("img",{src:b.couv,alt:"movie_couv",className:a.imgHeight}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{children:b.title})]}),Object(S.jsx)("span",{children:"? "})]}),Object(S.jsx)(f.a,{variant:"outlined",onClick:function(){return G(!0)},children:"Vrai"}),Object(S.jsx)(f.a,{variant:"outlined",onClick:function(){return G(!1)},children:"Faux"})]})},I=function(e){var t=e.seconds,n=e.setSeconds,r=e.isActive,a=e.setIsActive,s=e.setScore,o=e.score,i=e.stopGame,u=e.setStopGame,j=function(){n(0),a(!1),s(0);var e=localStorage.getItem("bestScore");(!e||e<o)&&localStorage.setItem("bestScore",o)};return Object(c.useEffect)((function(){var e=null;return r?(e=setInterval((function(){n((function(e){return e+1}))}),1e3),60===t&&j(),i&&(j(),u(!1))):r||0===t||clearInterval(e),function(){return clearInterval(e)}}),[r,t,i]),Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"time",children:[t,"s"]}),Object(S.jsx)(f.a,{variant:"outlined",onClick:function(){a(!r),s(0)},disabled:r,children:"Start"}),Object(S.jsx)(f.a,{variant:"outlined",onClick:j,children:"Reset"})]})},_=function(e){var t=Object(c.useState)(0),n=Object(o.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(!1),u=Object(o.a)(s,2),j=u[0],p=u[1],b=Object(c.useState)(!1),l=Object(o.a)(b,2),d=l[0],f=l[1],h=Object(c.useState)(0),O=Object(o.a)(h,2),m=O[0],v=O[1],x=Object(c.useState)(0),g=Object(o.a)(x,2),k=g[0],_=g[1];return Object(c.useEffect)((function(){var e=localStorage.getItem("bestScore");_(e)}),[j]),Object(S.jsxs)("div",{children:[Object(S.jsxs)(i.a,{component:"span",sx:{p:10},children:["Best score : ",k]}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsxs)(i.a,{component:"span",sx:{p:10},children:["Score: ",m]}),j&&Object(S.jsx)(w,{score:m,setScore:v,setStopGame:f}),Object(S.jsx)("br",{}),Object(S.jsx)(I,{seconds:r,setSeconds:a,isActive:j,setIsActive:p,setScore:v,score:m,stopGame:d,setStopGame:f})]})},y=function(){return Object(S.jsx)("div",{className:"App",children:Object(S.jsx)("div",{className:"App-header",children:Object(S.jsx)(_,{})})})};s.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(y,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.10be2980.chunk.js.map