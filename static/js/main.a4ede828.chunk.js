(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{102:function(e,t,n){},203:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(18),s=n.n(a),i=(n(102),n(21)),o=n(90),u=n(13),p=n(224),j=n(226),b=n(7),l=n.n(b),f=n(12),d=n(225),O=n(53),h=n.n(O),v=n(42),m=n.n(v),x="7ea5f490261a949e52930517e1b4657c",S="https://image.tmdb.org/t/p/original",g="https://api.themoviedb.org/3/",_=n(227),k=n(2),y=Object(d.a)({mainContainer:{display:"flex",alignItems:"center"},imgHeight:{height:200}}),w=function(e){var t=e.score,n=e.setScore,c=e.setStopGame,a=e.movies,s=e.actors,i=y(),o=Object(r.useState)({}),p=Object(u.a)(o,2),b=p[0],d=p[1],O=Object(r.useState)({}),v=Object(u.a)(O,2),x=v[0],g=v[1],w=Object(r.useState)(0),I=Object(u.a)(w,2),A=I[0],E=I[1];Object(r.useEffect)((function(){function e(){return(e=Object(f.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h()(a),d(t),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){G(s,e).then((function(e){return g(e)}))}))}),[A]);var G=function(){var e=Object(f.a)(l.a.mark((function e(t,n){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Math.round(Math.random())){e.next=6;break}return r=h()(n.cast),e.abrupt("return",r);case 6:return c=h()(t),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(f.a)(l.a.mark((function e(r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!!m()(b.cast,{id:x.id})===r?n(t+1):c(!0),E(A+1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(j.a,{component:"div",p:10,children:[Object(k.jsxs)("div",{className:i.mainContainer,children:[x&&x.profile_path&&Object(k.jsxs)(j.a,{component:"div",p:5,children:[Object(k.jsx)("img",{src:S+x.profile_path,alt:"actor_img",className:i.imgHeight}),Object(k.jsx)("br",{}),Object(k.jsx)("span",{children:x.name})]}),Object(k.jsx)("span",{children:"joue dans "}),b&&b.poster_path&&Object(k.jsxs)(j.a,{component:"div",p:5,children:[Object(k.jsx)("img",{src:S+b.poster_path,alt:"poster_path",className:i.imgHeight}),Object(k.jsx)("br",{}),Object(k.jsx)("span",{children:b.title})]}),Object(k.jsx)("span",{children:"? "})]}),Object(k.jsx)(_.a,{variant:"outlined",onClick:function(){return L(!0)},children:"Vrai"}),Object(k.jsx)(_.a,{variant:"outlined",onClick:function(){return L(!1)},children:"Faux"})]})},I=function(e){var t=e.seconds,n=e.setSeconds,c=e.isActive,a=e.setIsActive,s=e.setScore,i=e.score,o=e.stopGame,u=e.setStopGame,p=function(){n(0),a(!1),s(0);var e=localStorage.getItem("bestScore");(!e||e<i)&&localStorage.setItem("bestScore",i)};return Object(r.useEffect)((function(){var e=null;return c?(e=setInterval((function(){n((function(e){return e+1}))}),1e3),60===t&&p(),o&&(p(),u(!1))):c||0===t||clearInterval(e),function(){return clearInterval(e)}}),[c,t,o]),Object(k.jsxs)(j.a,{component:"div",p:10,children:[Object(k.jsxs)("div",{className:"time",children:[t,"s"]}),Object(k.jsx)(_.a,{variant:"outlined",onClick:function(){a(!c),s(0)},disabled:c,children:"Start"}),Object(k.jsx)(_.a,{variant:"outlined",onClick:p,children:"Reset"})]})},A=function(e){return Object(k.jsxs)(j.a,{component:"div",p:10,children:["R\xe8gle du jeu: Cliquer sur start et un compteur de 60 secondes se lancera.",Object(k.jsx)("br",{}),"Vous devez r\xe9pondre si un acteur joue dans un film par vrai ou faux.",Object(k.jsx)("br",{}),"Si vous r\xe9pondez mal la partie prend fin.",Object(k.jsx)("br",{}),"Bon chance"]})},E=n(14),G=n(64),L=n.n(G),N=n(89),M=n.n(N),C={method:"GET",mode:"cors"},T=function(){var e=Object(f.a)(l.a.mark((function e(){var t,n,r,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=1;case 2:if(!(n<12)){e.next=10;break}return e.next=5,fetch("".concat(g,"person/popular?api_key=").concat(x,"&language=en-US&page=").concat(n),C).then((function(e){return e.json()}));case 5:r=e.sent,t.push(r.results),n++,e.next=2;break;case 10:return c=M()(L()(t)),a=c.filter((function(e){return e.profile_path&&e.profile_path.length>0})),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(f.a)(l.a.mark((function e(){var t,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("\n  ".concat(g,"list/1?api_key=").concat(x,"&language=en-US"),C).then((function(e){return e.json()}));case 2:return t=e.sent,n=t.items,e.next=6,n.map(function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("\n    ".concat(g,"movie/").concat(t.id,"/credits?api_key=").concat(x,"&language=en-US"),C).then((function(e){return e.json()}));case 2:return n=e.sent,r=n.cast.filter((function(e){return e.profile_path&&e.profile_path.length>0})),e.abrupt("return",Object(E.a)(Object(E.a)({},t),{},{cast:r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return r=e.sent,e.next=9,Promise.all(r);case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(l.a.mark((function e(t,n){var r,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map((function(e){return e.cast})),c=L()(r),a=t.filter((function(e){return m()(c,{id:e.id})})),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(f.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return t=e.sent,e.next=5,T();case 5:return n=e.sent,e.next=8,R(n,t);case 8:return r=e.sent,e.abrupt("return",{movies:t,actorsWithNoMovie:r});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e){var t=Object(r.useState)(0),n=Object(u.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!1),o=Object(u.a)(s,2),b=o[0],l=o[1],f=Object(r.useState)(!1),d=Object(u.a)(f,2),O=d[0],h=d[1],v=Object(r.useState)(0),m=Object(u.a)(v,2),x=m[0],S=m[1],g=Object(r.useState)(0),_=Object(u.a)(g,2),y=_[0],E=_[1],G=Object(i.b)(),L=Object(i.c)((function(e){return e})),N=Object(i.c)((function(e){return e})).movies,M=Object(i.c)((function(e){return e})).actors;return Object(r.useEffect)((function(){G({type:"SET_LOADING_GAME"}),V().then((function(e){G({type:"FILL_MOVIES",movies:e.movies}),G({type:"FILL_ACTORS",actors:e.actorsWithNoMovie}),G({type:"SET_LOADING_GAME"})}));var e=localStorage.getItem("bestScore");E(e)}),[b]),Object(k.jsx)("div",{children:L.loading?Object(k.jsx)(j.a,{sx:{display:"flex"},children:Object(k.jsx)(p.a,{})}):Object(k.jsxs)("div",{children:[Object(k.jsxs)(j.a,{component:"span",p:10,children:["Best score : ",y]}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsxs)(j.a,{component:"span",p:10,children:["Score: ",x]}),b&&Object(k.jsx)(w,{score:x,setScore:S,setStopGame:h,movies:N,actors:M}),Object(k.jsx)("br",{}),!b&&Object(k.jsx)(A,{}),Object(k.jsx)(I,{seconds:c,setSeconds:a,isActive:b,setIsActive:l,setScore:S,score:x,stopGame:O,setStopGame:h})]})})},D=function(){return Object(k.jsx)("div",{className:"App",children:Object(k.jsx)("div",{className:"App-header",children:Object(k.jsx)(B,{})})})},H={movies:[],actors:[],loading:!1};var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILL_MOVIES":return Object(E.a)(Object(E.a)({},e),{},{movies:t.movies});case"FILL_ACTORS":return Object(E.a)(Object(E.a)({},e),{},{actors:t.actors});case"SET_LOADING_GAME":return Object(E.a)(Object(E.a)({},e),{},{loading:!e.loading});default:return e}},z=Object(o.a)(U);s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(i.a,{store:z,children:Object(k.jsx)(D,{})})}),document.getElementById("root"))}},[[203,1,2]]]);
//# sourceMappingURL=main.a4ede828.chunk.js.map