(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{57:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(16),s=n.n(a),o=(n(57),n(11)),i=n(113),u=n(10),j=n.n(u),p=n(17),b=n(112),l=n(23),d=n.n(l),O=n(114),f=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY_MOVIE_DB,h="https://image.tmdb.org/t/p/original",m="https://api.themoviedb.org/3/",v={method:"GET",mode:"cors"},x=function(){var e=Object(p.a)(j.a.mark((function e(){var t,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"person/popular?api_key=").concat(f,"&language=en-US&page=1"),v).then((function(e){return e.json()}));case 2:return t=e.sent,n=t.results.map((function(e){return{name:e.name,photo:h+e.profile_path}})),c=parseInt(19*Math.random()+1),e.abrupt("return",n[c]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(j.a.mark((function e(){var t,n,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("\n    ".concat(m,"list/1?api_key=").concat(f,"&language=en-US"),v).then((function(e){return e.json()}));case 2:return t=e.sent,n=d()(t.items),e.next=6,fetch("\n    ".concat(m,"movie/").concat(n.id,"/credits?api_key=").concat(f,"&language=en-US"),v).then((function(e){return e.json()}));case 6:return c=e.sent,r=c.cast.filter((function(e){return"Acting"===e.known_for_department})).map((function(e){return{name:e.name,photo:h+e.profile_path}})),e.abrupt("return",{title:n.title,couv:h+n.poster_path,actors:r});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=n(2),_=Object(b.a)({mainContainer:{display:"flex",alignItems:"center"},imgHeight:{height:200},paddingAffiche:{padding:20}}),k=function(e){var t=e.score,n=e.setScore,r=e.setStopGame,a=_(),s=Object(c.useState)({}),u=Object(o.a)(s,2),b=u[0],l=u[1],f=Object(c.useState)({}),h=Object(o.a)(f,2),m=h[0],v=h[1],k=Object(c.useState)(0),E=Object(o.a)(k,2),I=E[0],A=E[1];Object(c.useEffect)((function(){S().then((function(e){l(e),w(e).then((function(e){return v(e)}))}))}),[I]);var w=function(){var e=Object(p.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Math.round(Math.random())){e.next=5;break}return e.abrupt("return",x());case 5:return n=d()(t.actors),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.actors.includes(m)===c?n(t+1):r(!0),A(I+1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:a.mainContainer,children:[m&&m.photo&&Object(g.jsxs)(i.a,{component:"div",sx:{p:5},children:[Object(g.jsx)("img",{src:m.photo,alt:"actor_img",className:a.imgHeight}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:m.name})]}),Object(g.jsx)("span",{children:"joue dans "}),b&&b.couv&&Object(g.jsxs)(i.a,{component:"div",sx:{p:5},children:[Object(g.jsx)("img",{src:b.couv,alt:"movie_couv",className:a.imgHeight}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:b.title})]}),Object(g.jsx)("span",{children:"? "})]}),Object(g.jsx)(O.a,{variant:"outlined",onClick:function(){return C(!0)},children:"Vrai"}),Object(g.jsx)(O.a,{variant:"outlined",onClick:function(){return C(!1)},children:"Faux"})]})},E=function(e){var t=e.seconds,n=e.setSeconds,r=e.isActive,a=e.setIsActive,s=e.setScore,o=e.score,i=e.stopGame,u=e.setStopGame,j=function(){n(0),a(!1),s(0);var e=localStorage.getItem("bestScore");(!e||e<o)&&localStorage.setItem("bestScore",o)};return Object(c.useEffect)((function(){var e=null;return r?(e=setInterval((function(){n((function(e){return e+1}))}),1e3),60===t&&j(),i&&(j(),u(!1))):r||0===t||clearInterval(e),function(){return clearInterval(e)}}),[r,t,i]),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"time",children:[t,"s"]}),Object(g.jsx)(O.a,{variant:"outlined",onClick:function(){a(!r),s(0)},disabled:r,children:"Start"}),Object(g.jsx)(O.a,{variant:"outlined",onClick:j,children:"Reset"})]})},I=function(e){var t=Object(c.useState)(0),n=Object(o.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(!1),u=Object(o.a)(s,2),j=u[0],p=u[1],b=Object(c.useState)(!1),l=Object(o.a)(b,2),d=l[0],O=l[1],f=Object(c.useState)(0),h=Object(o.a)(f,2),m=h[0],v=h[1],x=Object(c.useState)(0),S=Object(o.a)(x,2),_=S[0],I=S[1];return Object(c.useEffect)((function(){var e=localStorage.getItem("bestScore");I(e)}),[j]),Object(g.jsxs)("div",{children:[Object(g.jsxs)(i.a,{component:"span",sx:{p:10},children:["Best score : ",_]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsxs)(i.a,{component:"span",sx:{p:10},children:["Score: ",m]}),j&&Object(g.jsx)(k,{score:m,setScore:v,setStopGame:O}),Object(g.jsx)("br",{}),Object(g.jsx)(E,{seconds:r,setSeconds:a,isActive:j,setIsActive:p,setScore:v,score:m,stopGame:d,setStopGame:O})]})},A=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)("div",{className:"App-header",children:Object(g.jsx)(I,{})})})};s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(A,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.b67a5472.chunk.js.map