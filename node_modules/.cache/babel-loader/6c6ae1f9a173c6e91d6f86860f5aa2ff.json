{"ast":null,"code":"var _jsxFileName = \"/Users/gregorios/projets_perso/jeu-react-wisembly/src/Timer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Timer = props => {\n  _s();\n\n  const {\n    seconds,\n    setSeconds,\n    isActive,\n    setIsActive,\n    setScore,\n    score\n  } = props;\n\n  const toggle = () => {\n    setIsActive(!isActive);\n    setScore(0);\n  };\n\n  const reset = () => {\n    setSeconds(0);\n    setIsActive(false);\n    setScore(0);\n  };\n\n  useEffect(() => {\n    let interval = null;\n\n    if (isActive) {\n      interval = setInterval(() => {\n        setSeconds(seconds => seconds + 1);\n      }, 1000);\n\n      if (seconds === 60) {\n        setSeconds(0);\n        setIsActive(false);\n        const scoreStorage = localStorage.getItem(\"bestScore\");\n\n        if (!scoreStorage || scoreStorage < score) {\n          localStorage.setItem(\"bestScore\", score);\n        }\n      }\n    } else if (!isActive && seconds !== 0) {\n      clearInterval(interval);\n    }\n\n    return () => clearInterval(interval);\n  }, [isActive, seconds]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"time\",\n      children: [seconds, \"s\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      onClick: toggle,\n      disabled: isActive,\n      children: \"Start\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      onClick: reset,\n      children: \"Reset\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Timer, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Timer;\nexport default Timer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"sources":["/Users/gregorios/projets_perso/jeu-react-wisembly/src/Timer.js"],"names":["React","useState","useEffect","Button","Timer","props","seconds","setSeconds","isActive","setIsActive","setScore","score","toggle","reset","interval","setInterval","scoreStorage","localStorage","getItem","setItem","clearInterval"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,0BAAnB;;;AAEA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AAAA;;AACvB,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,UAAX;AAAuBC,IAAAA,QAAvB;AAAiCC,IAAAA,WAAjC;AAA8CC,IAAAA,QAA9C;AAAwDC,IAAAA;AAAxD,MAAkEN,KAAxE;;AAEA,QAAMO,MAAM,GAAG,MAAM;AACnBH,IAAAA,WAAW,CAAC,CAACD,QAAF,CAAX;AACAE,IAAAA,QAAQ,CAAC,CAAD,CAAR;AACD,GAHD;;AAKA,QAAMG,KAAK,GAAG,MAAM;AAClBN,IAAAA,UAAU,CAAC,CAAD,CAAV;AACAE,IAAAA,WAAW,CAAC,KAAD,CAAX;AACAC,IAAAA,QAAQ,CAAC,CAAD,CAAR;AACD,GAJD;;AAMAR,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIY,QAAQ,GAAG,IAAf;;AACA,QAAIN,QAAJ,EAAc;AACZM,MAAAA,QAAQ,GAAGC,WAAW,CAAC,MAAM;AAC3BR,QAAAA,UAAU,CAAED,OAAD,IAAaA,OAAO,GAAG,CAAxB,CAAV;AACD,OAFqB,EAEnB,IAFmB,CAAtB;;AAGA,UAAIA,OAAO,KAAK,EAAhB,EAAoB;AAClBC,QAAAA,UAAU,CAAC,CAAD,CAAV;AACAE,QAAAA,WAAW,CAAC,KAAD,CAAX;AACA,cAAMO,YAAY,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAArB;;AACA,YAAI,CAACF,YAAD,IAAiBA,YAAY,GAAGL,KAApC,EAA2C;AACzCM,UAAAA,YAAY,CAACE,OAAb,CAAqB,WAArB,EAAkCR,KAAlC;AACD;AACF;AACF,KAZD,MAYO,IAAI,CAACH,QAAD,IAAaF,OAAO,KAAK,CAA7B,EAAgC;AACrCc,MAAAA,aAAa,CAACN,QAAD,CAAb;AACD;;AACD,WAAO,MAAMM,aAAa,CAACN,QAAD,CAA1B;AACD,GAlBQ,EAkBN,CAACN,QAAD,EAAWF,OAAX,CAlBM,CAAT;AAoBA,sBACE;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,iBAAuBA,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,UAAhB;AAA2B,MAAA,OAAO,EAAEM,MAApC;AAA4C,MAAA,QAAQ,EAAEJ,QAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAKE,QAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,UAAhB;AAA2B,MAAA,OAAO,EAAEK,KAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAWD,CA7CD;;GAAMT,K;;KAAAA,K;AA+CN,eAAeA,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\n\nconst Timer = (props) => {\n  const { seconds, setSeconds, isActive, setIsActive, setScore, score } = props;\n\n  const toggle = () => {\n    setIsActive(!isActive);\n    setScore(0);\n  };\n\n  const reset = () => {\n    setSeconds(0);\n    setIsActive(false);\n    setScore(0);\n  };\n\n  useEffect(() => {\n    let interval = null;\n    if (isActive) {\n      interval = setInterval(() => {\n        setSeconds((seconds) => seconds + 1);\n      }, 1000);\n      if (seconds === 60) {\n        setSeconds(0);\n        setIsActive(false);\n        const scoreStorage = localStorage.getItem(\"bestScore\");\n        if (!scoreStorage || scoreStorage < score) {\n          localStorage.setItem(\"bestScore\", score);\n        }\n      }\n    } else if (!isActive && seconds !== 0) {\n      clearInterval(interval);\n    }\n    return () => clearInterval(interval);\n  }, [isActive, seconds]);\n\n  return (\n    <div>\n      <div className=\"time\">{seconds}s</div>\n      <Button variant=\"outlined\" onClick={toggle} disabled={isActive}>\n        Start\n      </Button>\n      <Button variant=\"outlined\" onClick={reset}>\n        Reset\n      </Button>\n    </div>\n  );\n};\n\nexport default Timer;\n"]},"metadata":{},"sourceType":"module"}